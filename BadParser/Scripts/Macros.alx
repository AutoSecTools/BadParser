typeof = macro(@(x) { (new x()).GetType() });
array = macro(@(type, len) { Array.CreateInstance(typeof(type), len) });